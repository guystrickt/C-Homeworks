class Program
{
    static void Main(string[] args)
    {
        if (!TryGetNumber("Введите первое число:", out double num1))
        {
            return;
        }

        if (!TryGetNumber("Введите второе число:", out double num2))
        {
            return;
        }

        if (!TryGetOperation("Введите знак операции (+, -, *, /):", out string operation))
        {
            return;
        }
        if (PerformCalculation(num1, num2, operation, out double result))
        {
            Console.WriteLine($"Результат: {result}");
        }
    }
    private static bool TryGetNumber(string prompt, out double number)
    {
        Console.Write(prompt);
        return double.TryParse(Console.ReadLine(), out number);
    }
    private static bool TryGetOperation(string prompt, out string operation)
    {
        Console.Write(prompt);
        operation = Console.ReadLine();
        return operation == "+" || operation == "-" || operation == "*" || operation == "/";
    }

    private static bool PerformCalculation(double num1, double num2, string operation, out double result)
    {
        result = 0;
        switch (operation)
        {
            case "+":
                result = num1 + num2;
                break;
            case "-":
                result = num1 - num2;
                break;
            case "*":
                result = num1 * num2;
                break;
            case "/":
                if (num2 != 0)
                {
                    result = num1 / num2;
                }
                else
                {
                    Console.WriteLine("Ошибка: деление на ноль!");
                    return false;
                }
                break;
            default:
                Console.WriteLine("Ошибка: неверный знак операции!");
                return false;
        }
        return true;
    }
}
