using System.Globalization;

class Program
{
    static void Main(string[] args)
    {
        double num1 = GetNumberFromUser("Введите первое число:");
        if (double.IsNaN(num1))
        {
            return;
        }

        double num2 = GetNumberFromUser("Введите второе число:");
        if (double.IsNaN(num2))
        {
            return;
        }

        string operation = GetOperationFromUser("Введите знак операции (+, -, *, /):");
        if (string.IsNullOrEmpty(operation))
        {
            return;
        }
        var result = PerformCalculation(num1, num2, operation);

        if (result.HasValue)
        {
            Console.WriteLine($"Результат: {result}");
        }
    }
    private static double GetNumberFromUser(string prompt)
    {
        Console.Write(prompt);
        try
        {
            return Convert.ToDouble(Console.ReadLine(), CultureInfo.InvariantCulture);
        }
        catch (FormatException)
        {
            Console.WriteLine("Ошибка: введено не число!");
            return double.NaN;
        }
    }
    private static string GetOperationFromUser(string prompt)
    {
        Console.Write(prompt);
        string operation = Console.ReadLine();
        if (operation == "+" || operation == "-" || operation == "*" || operation == "/")
        {
            return operation;
        }
        else
        {
            Console.WriteLine("Ошибка: неверный знак операции!");
            return null;
        }
    }
    private static double? PerformCalculation(double num1, double num2, string operation)
    {
        switch (operation)
        {
            case "+":
                return num1 + num2;
            case "-":
                return num1 - num2;
            case "*":
                return num1 * num2;
            case "/":
                if (num2 == 0)
                {
                    Console.WriteLine("Ошибка: деление на ноль!");
                    return null;
                }
                return num1 / num2;
            default:
                return null;
        }
    }
}
